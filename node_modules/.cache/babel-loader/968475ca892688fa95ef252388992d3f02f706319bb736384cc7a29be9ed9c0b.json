{"ast":null,"code":"import _slicedToArray from\"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{addItem,selectCartItem}from'../redux/slice/cartSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typesArray=['тонкое','традиционное'];var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,imageUrl=_ref.imageUrl,title=_ref.title,types=_ref.types,sizes=_ref.sizes,price=_ref.price;var dispatch=useDispatch();var cartItem=useSelector(selectCartItem(id));var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),actType=_React$useState2[0],setActType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),actSize=_React$useState4[0],setActSize=_React$useState4[1];var addedCount=cartItem?cartItem.count:0;var onClickAdd=function onClickAdd(){var item={id:id,title:title,price:price,imageUrl:imageUrl,type:typesArray[actType],size:sizes[actSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(typeId){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setActType(typeId);},className:actType===typeId?'active':'',children:typesArray[typeId]},typeId);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return setActSize(i);},className:actSize===i?'active':'',children:[size,\" \\u0441\\u043C.\"]},size);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]});};export default PizzaBlock;","map":{"version":3,"names":["React","useDispatch","useSelector","Link","addItem","selectCartItem","typesArray","PizzaBlock","id","imageUrl","title","types","sizes","price","dispatch","cartItem","useState","actType","setActType","actSize","setActSize","addedCount","count","onClickAdd","item","type","size","map","typeId","i"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/src/components/PizzaBlock.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { addItem, CartItem, selectCartItem } from '../redux/slice/cartSlice';\r\nconst typesArray = ['тонкое', 'традиционное'];\r\ntype PizzaBlockProps = {\r\n\tid: string;\r\n\timageUrl: string;\r\n\ttitle: string;\r\n\ttypes: number[];\r\n\tsizes: number[];\r\n\tprice: number;\r\n};\r\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({ id, imageUrl, title, types, sizes, price, }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst cartItem = useSelector(selectCartItem(id));\r\n\tconst [actType, setActType] = React.useState(0);\r\n\tconst [actSize, setActSize] = React.useState(0);\r\n\r\n\tconst addedCount = cartItem ? cartItem.count : 0;\r\n\r\n\tconst onClickAdd = () => {\r\n\t\tconst item: CartItem = {\r\n\t\t\tid,\r\n\t\t\ttitle,\r\n\t\t\tprice,\r\n\t\t\timageUrl,\r\n\t\t\ttype: typesArray[actType],\r\n\t\t\tsize: sizes[actSize],\r\n\t\t\tcount: 0\r\n\t\t};\r\n\t\tdispatch(addItem(item));\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"pizza-block\">\r\n\t\t\t<Link to={`/pizza/${id}`}>\r\n\t\t\t\t<img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n\t\t\t\t<h4 className=\"pizza-block__title\">{title}</h4>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"pizza-block__selector\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{types.map((typeId) => (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={typeId}\r\n\t\t\t\t\t\t\tonClick={() => setActType(typeId)}\r\n\t\t\t\t\t\t\tclassName={actType === typeId ? 'active' : ''}>\r\n\t\t\t\t\t\t\t{typesArray[typeId]}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{sizes.map((size, i) => (\r\n\t\t\t\t\t\t<li key={size} onClick={() => setActSize(i)} className={actSize === i ? 'active' : ''}>\r\n\t\t\t\t\t\t\t{size} см.\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"pizza-block__bottom\">\r\n\t\t\t\t<div className=\"pizza-block__price\">от {price} ₽</div>\r\n\t\t\t\t<div onClick={onClickAdd} className=\"button button--outline button--add\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\twidth=\"12\"\r\n\t\t\t\t\t\theight=\"12\"\r\n\t\t\t\t\t\tviewBox=\"0 0 12 12\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n\t\t\t\t\t\t\tfill=\"white\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t<span>Добавить</span>\r\n\t\t\t\t\t{addedCount > 0 && <i>{addedCount}</i>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PizzaBlock;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}