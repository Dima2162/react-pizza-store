{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React from'react';import{useNavigate,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FullPizza=function FullPizza(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),pizza=_React$useState2[0],setPizza=_React$useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();React.useEffect(function(){function fetchPizza(){return _fetchPizza.apply(this,arguments);}function _fetchPizza(){_fetchPizza=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('http://localhost:3002/pizzas/'+id);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPizza(data);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert('Ошибка при получении пиццы');navigate('/');case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return _fetchPizza.apply(this,arguments);}fetchPizza();},[]);if(!pizza){return/*#__PURE__*/_jsx(React.Fragment,{children:\"'\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...'\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:pizza.imageUrl}),/*#__PURE__*/_jsx(\"h2\",{children:pizza.title}),/*#__PURE__*/_jsx(\"h4\",{children:pizza.price})]});};export default FullPizza;","map":{"version":3,"names":["axios","React","useNavigate","useParams","FullPizza","useState","pizza","setPizza","id","navigate","useEffect","fetchPizza","get","data","alert","imageUrl","title","price"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/src/pages/FullPizza.tsx"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst FullPizza = () => {\r\n\tconst [pizza, setPizza] = React.useState<{\r\n\t\timageUrl: string;\r\n\t\ttitle : string;\r\n\t\tprice : number;\r\n\t}>();\r\n\tconst { id } = useParams();\r\n\tconst navigate = useNavigate();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchPizza() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get('http://localhost:3002/pizzas/' + id);\r\n\t\t\t\tsetPizza(data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert('Ошибка при получении пиццы');\r\n\t\t\t\tnavigate('/');\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchPizza();\r\n\t}, []);\r\n\r\n\tif (!pizza) {\r\n\t\treturn <React.Fragment>'Загрузка...'</React.Fragment>;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<img src={pizza.imageUrl} />\r\n\t\t\t<h2>{pizza.title}</h2>\r\n\t\t\t<h4>{pizza.price}</h4>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FullPizza;\r\n"],"mappings":"0hBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CAAC,wFAE1D,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACvB,oBAA0BH,KAAK,CAACI,QAAQ,EAIpC,oDAJGC,KAAK,qBAAEC,QAAQ,qBAKtB,eAAeJ,SAAS,EAAE,CAAlBK,EAAE,YAAFA,EAAE,CACV,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAE9BD,KAAK,CAACS,SAAS,CAAC,UAAM,SACNC,WAAU,0IAAzB,oMAEyBX,MAAK,CAACY,GAAG,CAAC,+BAA+B,CAAGJ,EAAE,CAAC,uCAA9DK,IAAI,kBAAJA,IAAI,CACZN,QAAQ,CAACM,IAAI,CAAC,CAAC,+EAEfC,KAAK,CAAC,4BAA4B,CAAC,CACnCL,QAAQ,CAAC,GAAG,CAAC,CAAC,mEAEf,6CACDE,UAAU,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACL,KAAK,CAAE,CACX,mBAAO,KAAC,KAAK,CAAC,QAAQ,WAAC,uDAAa,EAAiB,CACtD,CACA,mBACC,aAAK,SAAS,CAAC,WAAW,wBACzB,YAAK,GAAG,CAAEA,KAAK,CAACS,QAAS,EAAG,cAC5B,oBAAKT,KAAK,CAACU,KAAK,EAAM,cACtB,oBAAKV,KAAK,CAACW,KAAK,EAAM,GACjB,CAER,CAAC,CAED,cAAeb,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}