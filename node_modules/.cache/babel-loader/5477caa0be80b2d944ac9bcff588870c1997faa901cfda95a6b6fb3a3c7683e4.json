{"ast":null,"code":"import _toConsumableArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _toArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _slicedToArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function useAntdTable(service) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _a;\n  var form = options.form,\n    _options$defaultType = options.defaultType,\n    defaultType = _options$defaultType === void 0 ? 'simple' : _options$defaultType,\n    defaultParams = options.defaultParams,\n    _options$manual = options.manual,\n    manual = _options$manual === void 0 ? false : _options$manual,\n    _options$refreshDeps = options.refreshDeps,\n    refreshDeps = _options$refreshDeps === void 0 ? [] : _options$refreshDeps,\n    _options$ready = options.ready,\n    ready = _options$ready === void 0 ? true : _options$ready,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  var _result$params = result.params,\n    params = _result$params === void 0 ? [] : _result$params,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _useState = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType),\n    _useState2 = _slicedToArray(_useState, 2),\n    type = _useState2[0],\n    setType = _useState2[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function getActiveFieldValues() {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function validateFields() {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function restoreForm() {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function changeType() {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function _submit(initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function () {\n        var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function reset() {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  var submit = function submit(e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function onTableChange(pagination, filters, sorter, extra) {\n    var _ref = params || [],\n      _ref2 = _toArray(_ref),\n      oldPaginationParams = _ref2[0],\n      restParams = _ref2.slice(1);\n    run.apply(void 0, [Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter,\n      extra: extra\n    })].concat(_toConsumableArray(restParams)));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, _toConsumableArray(params));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, _toConsumableArray(refreshDeps));\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;","map":{"version":3,"names":["__rest","useEffect","useRef","useState","useMemoizedFn","usePagination","useUpdateEffect","useAntdTable","service","options","_a","form","defaultType","defaultParams","manual","refreshDeps","ready","rest","result","Object","assign","params","run","cacheFormTableData","type","setType","allFormDataRef","defaultDataSourceRef","isAntdV4","getInternalHooks","getActiveFieldValues","getFieldsValue","allFieldsValue","activeFieldsValue","keys","forEach","key","getFieldInstance","validateFields","Promise","resolve","fields","reject","errors","values","restoreForm","setFieldsValue","current","changeType","t","_submit","initPagination","setTimeout","then","pagination","pageSize","defaultPageSize","allFormData","catch","err","reset","resetFields","submit","e","preventDefault","call","onTableChange","filters","sorter","extra","oldPaginationParams","restParams","length","hasAutoRun","changeCurrent","tableProps","dataSource","data","list","loading","onChange","total","search"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/node_modules/ahooks/es/useAntdTable/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nconst useAntdTable = (service, options = {}) => {\n  var _a;\n  const {\n      form,\n      defaultType = 'simple',\n      defaultParams,\n      manual = false,\n      refreshDeps = [],\n      ready = true\n    } = options,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  const result = usePagination(service, Object.assign({\n    manual: true\n  }, rest));\n  const {\n    params = [],\n    run\n  } = result;\n  const cacheFormTableData = params[2] || {};\n  const [type, setType] = useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType);\n  const allFormDataRef = useRef({});\n  const defaultDataSourceRef = useRef([]);\n  const isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  const getActiveFieldValues = () => {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, () => true);\n    }\n    // antd 3\n    const allFieldsValue = form.getFieldsValue();\n    const activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  const validateFields = () => {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    const activeFieldsValue = getActiveFieldValues();\n    const fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise((resolve, reject) => {\n      form.validateFields(fields, (errors, values) => {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  const restoreForm = () => {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    const activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(key => {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  const changeType = () => {\n    const activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(t => t === 'simple' ? 'advance' : 'simple');\n  };\n  const _submit = initPagination => {\n    if (!ready) {\n      return;\n    }\n    setTimeout(() => {\n      validateFields().then((values = {}) => {\n        const pagination = initPagination || Object.assign(Object.assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = Object.assign(Object.assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type\n        });\n      }).catch(err => err);\n    });\n  };\n  const reset = () => {\n    if (form) {\n      form.resetFields();\n    }\n    _submit();\n  };\n  const submit = e => {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  const onTableChange = (pagination, filters, sorter, extra) => {\n    const [oldPaginationParams, ...restParams] = params || [];\n    run(Object.assign(Object.assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters,\n      sorter,\n      extra\n    }), ...restParams);\n  };\n  // init\n  useEffect(() => {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run(...params);\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(() => {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  const hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(() => {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(() => {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, [...refreshDeps]);\n  return Object.assign(Object.assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}