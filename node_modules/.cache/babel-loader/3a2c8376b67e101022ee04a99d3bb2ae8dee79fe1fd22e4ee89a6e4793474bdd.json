{"ast":null,"code":"import _toConsumableArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useRef, useState } from 'react';\nvar useDynamicList = function useDynamicList() {\n  var initialList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var counterRef = useRef(-1);\n  var keyList = useRef([]);\n  var setKey = useCallback(function (index) {\n    counterRef.current += 1;\n    keyList.current.splice(index, 0, counterRef.current);\n  }, []);\n  var _useState = useState(function () {\n      initialList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return initialList;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    list = _useState2[0],\n    setList = _useState2[1];\n  var resetList = useCallback(function (newList) {\n    keyList.current = [];\n    setList(function () {\n      newList.forEach(function (_, index) {\n        setKey(index);\n      });\n      return newList;\n    });\n  }, []);\n  var insert = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = _toConsumableArray(l);\n      temp.splice(index, 0, item);\n      setKey(index);\n      return temp;\n    });\n  }, []);\n  var getKey = useCallback(function (index) {\n    return keyList.current[index];\n  }, []);\n  var getIndex = useCallback(function (key) {\n    return keyList.current.findIndex(function (ele) {\n      return ele === key;\n    });\n  }, []);\n  var merge = useCallback(function (index, items) {\n    setList(function (l) {\n      var temp = _toConsumableArray(l);\n      items.forEach(function (_, i) {\n        setKey(index + i);\n      });\n      temp.splice.apply(temp, [index, 0].concat(_toConsumableArray(items)));\n      return temp;\n    });\n  }, []);\n  var replace = useCallback(function (index, item) {\n    setList(function (l) {\n      var temp = _toConsumableArray(l);\n      temp[index] = item;\n      return temp;\n    });\n  }, []);\n  var remove = useCallback(function (index) {\n    setList(function (l) {\n      var temp = _toConsumableArray(l);\n      temp.splice(index, 1);\n      // remove keys if necessary\n      try {\n        keyList.current.splice(index, 1);\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var move = useCallback(function (oldIndex, newIndex) {\n    if (oldIndex === newIndex) {\n      return;\n    }\n    setList(function (l) {\n      var newList = _toConsumableArray(l);\n      var temp = newList.filter(function (_, index) {\n        return index !== oldIndex;\n      });\n      temp.splice(newIndex, 0, newList[oldIndex]);\n      // move keys if necessary\n      try {\n        var keyTemp = keyList.current.filter(function (_, index) {\n          return index !== oldIndex;\n        });\n        keyTemp.splice(newIndex, 0, keyList.current[oldIndex]);\n        keyList.current = keyTemp;\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  var push = useCallback(function (item) {\n    setList(function (l) {\n      setKey(l.length);\n      return l.concat([item]);\n    });\n  }, []);\n  var pop = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(0, keyList.current.length - 1);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(0, l.length - 1);\n    });\n  }, []);\n  var unshift = useCallback(function (item) {\n    setList(function (l) {\n      setKey(0);\n      return [item].concat(l);\n    });\n  }, []);\n  var shift = useCallback(function () {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(1, keyList.current.length);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(function (l) {\n      return l.slice(1, l.length);\n    });\n  }, []);\n  var sortList = useCallback(function (result) {\n    return result.map(function (item, index) {\n      return {\n        key: index,\n        item: item\n      };\n    }) // add index into obj\n    .sort(function (a, b) {\n      return getIndex(a.key) - getIndex(b.key);\n    }) // sort based on the index of table\n    .filter(function (item) {\n      return !!item.item;\n    }) // remove undefined(s)\n    .map(function (item) {\n      return item.item;\n    });\n  },\n  // retrive the data\n  []);\n  return {\n    list: list,\n    insert: insert,\n    merge: merge,\n    replace: replace,\n    remove: remove,\n    getKey: getKey,\n    getIndex: getIndex,\n    move: move,\n    push: push,\n    pop: pop,\n    unshift: unshift,\n    shift: shift,\n    sortList: sortList,\n    resetList: resetList\n  };\n};\nexport default useDynamicList;","map":{"version":3,"names":["useCallback","useRef","useState","useDynamicList","initialList","counterRef","keyList","setKey","index","current","splice","forEach","_","list","setList","resetList","newList","insert","item","l","temp","getKey","getIndex","key","findIndex","ele","merge","items","i","replace","remove","e","console","error","move","oldIndex","newIndex","filter","keyTemp","push","length","concat","pop","slice","unshift","shift","sortList","result","map","sort","a","b"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/node_modules/ahooks/es/useDynamicList/index.js"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nconst useDynamicList = (initialList = []) => {\n  const counterRef = useRef(-1);\n  const keyList = useRef([]);\n  const setKey = useCallback(index => {\n    counterRef.current += 1;\n    keyList.current.splice(index, 0, counterRef.current);\n  }, []);\n  const [list, setList] = useState(() => {\n    initialList.forEach((_, index) => {\n      setKey(index);\n    });\n    return initialList;\n  });\n  const resetList = useCallback(newList => {\n    keyList.current = [];\n    setList(() => {\n      newList.forEach((_, index) => {\n        setKey(index);\n      });\n      return newList;\n    });\n  }, []);\n  const insert = useCallback((index, item) => {\n    setList(l => {\n      const temp = [...l];\n      temp.splice(index, 0, item);\n      setKey(index);\n      return temp;\n    });\n  }, []);\n  const getKey = useCallback(index => keyList.current[index], []);\n  const getIndex = useCallback(key => keyList.current.findIndex(ele => ele === key), []);\n  const merge = useCallback((index, items) => {\n    setList(l => {\n      const temp = [...l];\n      items.forEach((_, i) => {\n        setKey(index + i);\n      });\n      temp.splice(index, 0, ...items);\n      return temp;\n    });\n  }, []);\n  const replace = useCallback((index, item) => {\n    setList(l => {\n      const temp = [...l];\n      temp[index] = item;\n      return temp;\n    });\n  }, []);\n  const remove = useCallback(index => {\n    setList(l => {\n      const temp = [...l];\n      temp.splice(index, 1);\n      // remove keys if necessary\n      try {\n        keyList.current.splice(index, 1);\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  const move = useCallback((oldIndex, newIndex) => {\n    if (oldIndex === newIndex) {\n      return;\n    }\n    setList(l => {\n      const newList = [...l];\n      const temp = newList.filter((_, index) => index !== oldIndex);\n      temp.splice(newIndex, 0, newList[oldIndex]);\n      // move keys if necessary\n      try {\n        const keyTemp = keyList.current.filter((_, index) => index !== oldIndex);\n        keyTemp.splice(newIndex, 0, keyList.current[oldIndex]);\n        keyList.current = keyTemp;\n      } catch (e) {\n        console.error(e);\n      }\n      return temp;\n    });\n  }, []);\n  const push = useCallback(item => {\n    setList(l => {\n      setKey(l.length);\n      return l.concat([item]);\n    });\n  }, []);\n  const pop = useCallback(() => {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(0, keyList.current.length - 1);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(l => l.slice(0, l.length - 1));\n  }, []);\n  const unshift = useCallback(item => {\n    setList(l => {\n      setKey(0);\n      return [item].concat(l);\n    });\n  }, []);\n  const shift = useCallback(() => {\n    // remove keys if necessary\n    try {\n      keyList.current = keyList.current.slice(1, keyList.current.length);\n    } catch (e) {\n      console.error(e);\n    }\n    setList(l => l.slice(1, l.length));\n  }, []);\n  const sortList = useCallback(result => result.map((item, index) => ({\n    key: index,\n    item\n  })) // add index into obj\n  .sort((a, b) => getIndex(a.key) - getIndex(b.key)) // sort based on the index of table\n  .filter(item => !!item.item) // remove undefined(s)\n  .map(item => item.item),\n  // retrive the data\n  []);\n  return {\n    list,\n    insert,\n    merge,\n    replace,\n    remove,\n    getKey,\n    getIndex,\n    move,\n    push,\n    pop,\n    unshift,\n    shift,\n    sortList,\n    resetList\n  };\n};\nexport default useDynamicList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}