{"ast":null,"code":"import _slicedToArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState } from 'react';\nimport screenfull from 'screenfull';\nimport useLatest from '../useLatest';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/domTarget';\nvar useFullscreen = function useFullscreen(target, options) {\n  var _ref = options || {},\n    onExit = _ref.onExit,\n    onEnter = _ref.onEnter;\n  var onExitRef = useLatest(onExit);\n  var onEnterRef = useLatest(onEnter);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var onChange = function onChange() {\n    var _a, _b, _c;\n    if (screenfull.isEnabled) {\n      var el = getTargetElement(target);\n      if (!screenfull.element) {\n        (_a = onExitRef.current) === null || _a === void 0 ? void 0 : _a.call(onExitRef);\n        setState(false);\n        screenfull.off('change', onChange);\n      } else {\n        var isFullscreen = screenfull.element === el;\n        if (isFullscreen) {\n          (_b = onEnterRef.current) === null || _b === void 0 ? void 0 : _b.call(onEnterRef);\n        } else {\n          (_c = onExitRef.current) === null || _c === void 0 ? void 0 : _c.call(onExitRef);\n        }\n        setState(isFullscreen);\n      }\n    }\n  };\n  var enterFullscreen = function enterFullscreen() {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onChange);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  var exitFullscreen = function exitFullscreen() {\n    var el = getTargetElement(target);\n    if (screenfull.isEnabled && screenfull.element === el) {\n      screenfull.exit();\n    }\n  };\n  var toggleFullscreen = function toggleFullscreen() {\n    if (state) {\n      exitFullscreen();\n    } else {\n      enterFullscreen();\n    }\n  };\n  useUnmount(function () {\n    if (screenfull.isEnabled) {\n      screenfull.off('change', onChange);\n    }\n  });\n  return [state, {\n    enterFullscreen: useMemoizedFn(enterFullscreen),\n    exitFullscreen: useMemoizedFn(exitFullscreen),\n    toggleFullscreen: useMemoizedFn(toggleFullscreen),\n    isEnabled: screenfull.isEnabled\n  }];\n};\nexport default useFullscreen;","map":{"version":3,"names":["useState","screenfull","useLatest","useMemoizedFn","useUnmount","getTargetElement","useFullscreen","target","options","onExit","onEnter","onExitRef","onEnterRef","state","setState","onChange","_a","_b","_c","isEnabled","el","element","current","call","off","isFullscreen","enterFullscreen","request","on","error","console","exitFullscreen","exit","toggleFullscreen"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/node_modules/ahooks/es/useFullscreen/index.js"],"sourcesContent":["import { useState } from 'react';\nimport screenfull from 'screenfull';\nimport useLatest from '../useLatest';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/domTarget';\nconst useFullscreen = (target, options) => {\n  const {\n    onExit,\n    onEnter\n  } = options || {};\n  const onExitRef = useLatest(onExit);\n  const onEnterRef = useLatest(onEnter);\n  const [state, setState] = useState(false);\n  const onChange = () => {\n    var _a, _b, _c;\n    if (screenfull.isEnabled) {\n      const el = getTargetElement(target);\n      if (!screenfull.element) {\n        (_a = onExitRef.current) === null || _a === void 0 ? void 0 : _a.call(onExitRef);\n        setState(false);\n        screenfull.off('change', onChange);\n      } else {\n        const isFullscreen = screenfull.element === el;\n        if (isFullscreen) {\n          (_b = onEnterRef.current) === null || _b === void 0 ? void 0 : _b.call(onEnterRef);\n        } else {\n          (_c = onExitRef.current) === null || _c === void 0 ? void 0 : _c.call(onExitRef);\n        }\n        setState(isFullscreen);\n      }\n    }\n  };\n  const enterFullscreen = () => {\n    const el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onChange);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  const exitFullscreen = () => {\n    const el = getTargetElement(target);\n    if (screenfull.isEnabled && screenfull.element === el) {\n      screenfull.exit();\n    }\n  };\n  const toggleFullscreen = () => {\n    if (state) {\n      exitFullscreen();\n    } else {\n      enterFullscreen();\n    }\n  };\n  useUnmount(() => {\n    if (screenfull.isEnabled) {\n      screenfull.off('change', onChange);\n    }\n  });\n  return [state, {\n    enterFullscreen: useMemoizedFn(enterFullscreen),\n    exitFullscreen: useMemoizedFn(exitFullscreen),\n    toggleFullscreen: useMemoizedFn(toggleFullscreen),\n    isEnabled: screenfull.isEnabled\n  }];\n};\nexport default useFullscreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}