{"ast":null,"code":"import _slicedToArray from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { useEffect, useState } from 'react';\nimport isBrowser from '../utils/isBrowser';\nvar subscribers = new Set();\nvar info;\nvar responsiveConfig = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\nfunction handleResize() {\n  var oldInfo = info;\n  calculate();\n  if (oldInfo === info) return;\n  var _iterator = _createForOfIteratorHelper(subscribers),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var subscriber = _step.value;\n      subscriber();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nvar listening = false;\nfunction calculate() {\n  var width = window.innerWidth;\n  var newInfo = {};\n  var shouldUpdate = false;\n  for (var _i = 0, _Object$keys = Object.keys(responsiveConfig); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    newInfo[key] = width >= responsiveConfig[key];\n    if (newInfo[key] !== info[key]) {\n      shouldUpdate = true;\n    }\n  }\n  if (shouldUpdate) {\n    info = newInfo;\n  }\n}\nexport function configResponsive(config) {\n  responsiveConfig = config;\n  if (info) calculate();\n}\nexport function useResponsive() {\n  if (isBrowser && !listening) {\n    info = {};\n    calculate();\n    window.addEventListener('resize', handleResize);\n    listening = true;\n  }\n  var _useState = useState(info),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  useEffect(function () {\n    if (!isBrowser) return;\n    // In React 18's StrictMode, useEffect perform twice, resize listener is remove, so handleResize is never perform.\n    // https://github.com/alibaba/hooks/issues/1910\n    if (!listening) {\n      window.addEventListener('resize', handleResize);\n    }\n    var subscriber = function subscriber() {\n      setState(info);\n    };\n    subscribers.add(subscriber);\n    return function () {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        window.removeEventListener('resize', handleResize);\n        listening = false;\n      }\n    };\n  }, []);\n  return state;\n}","map":{"version":3,"names":["useEffect","useState","isBrowser","subscribers","Set","info","responsiveConfig","xs","sm","md","lg","xl","handleResize","oldInfo","calculate","subscriber","listening","width","window","innerWidth","newInfo","shouldUpdate","Object","keys","key","configResponsive","config","useResponsive","addEventListener","state","setState","add","delete","size","removeEventListener"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/node_modules/ahooks/es/useResponsive/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport isBrowser from '../utils/isBrowser';\nconst subscribers = new Set();\nlet info;\nlet responsiveConfig = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\nfunction handleResize() {\n  const oldInfo = info;\n  calculate();\n  if (oldInfo === info) return;\n  for (const subscriber of subscribers) {\n    subscriber();\n  }\n}\nlet listening = false;\nfunction calculate() {\n  const width = window.innerWidth;\n  const newInfo = {};\n  let shouldUpdate = false;\n  for (const key of Object.keys(responsiveConfig)) {\n    newInfo[key] = width >= responsiveConfig[key];\n    if (newInfo[key] !== info[key]) {\n      shouldUpdate = true;\n    }\n  }\n  if (shouldUpdate) {\n    info = newInfo;\n  }\n}\nexport function configResponsive(config) {\n  responsiveConfig = config;\n  if (info) calculate();\n}\nexport function useResponsive() {\n  if (isBrowser && !listening) {\n    info = {};\n    calculate();\n    window.addEventListener('resize', handleResize);\n    listening = true;\n  }\n  const [state, setState] = useState(info);\n  useEffect(() => {\n    if (!isBrowser) return;\n    // In React 18's StrictMode, useEffect perform twice, resize listener is remove, so handleResize is never perform.\n    // https://github.com/alibaba/hooks/issues/1910\n    if (!listening) {\n      window.addEventListener('resize', handleResize);\n    }\n    const subscriber = () => {\n      setState(info);\n    };\n    subscribers.add(subscriber);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        window.removeEventListener('resize', handleResize);\n        listening = false;\n      }\n    };\n  }, []);\n  return state;\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,IAAMC,WAAW,GAAG,IAAIC,GAAG,EAAE;AAC7B,IAAIC,IAAI;AACR,IAAIC,gBAAgB,GAAG;EACrBC,EAAE,EAAE,CAAC;EACLC,EAAE,EAAE,GAAG;EACPC,EAAE,EAAE,GAAG;EACPC,EAAE,EAAE,GAAG;EACPC,EAAE,EAAE;AACN,CAAC;AACD,SAASC,YAAY,GAAG;EACtB,IAAMC,OAAO,GAAGR,IAAI;EACpBS,SAAS,EAAE;EACX,IAAID,OAAO,KAAKR,IAAI,EAAE;EAAO,2CACJF,WAAW;IAAA;EAAA;IAApC,oDAAsC;MAAA,IAA3BY,UAAU;MACnBA,UAAU,EAAE;IACd;EAAC;IAAA;EAAA;IAAA;EAAA;AACH;AACA,IAAIC,SAAS,GAAG,KAAK;AACrB,SAASF,SAAS,GAAG;EACnB,IAAMG,KAAK,GAAGC,MAAM,CAACC,UAAU;EAC/B,IAAMC,OAAO,GAAG,CAAC,CAAC;EAClB,IAAIC,YAAY,GAAG,KAAK;EACxB,gCAAkBC,MAAM,CAACC,IAAI,CAACjB,gBAAgB,CAAC,kCAAE;IAA5C,IAAMkB,GAAG;IACZJ,OAAO,CAACI,GAAG,CAAC,GAAGP,KAAK,IAAIX,gBAAgB,CAACkB,GAAG,CAAC;IAC7C,IAAIJ,OAAO,CAACI,GAAG,CAAC,KAAKnB,IAAI,CAACmB,GAAG,CAAC,EAAE;MAC9BH,YAAY,GAAG,IAAI;IACrB;EACF;EACA,IAAIA,YAAY,EAAE;IAChBhB,IAAI,GAAGe,OAAO;EAChB;AACF;AACA,OAAO,SAASK,gBAAgB,CAACC,MAAM,EAAE;EACvCpB,gBAAgB,GAAGoB,MAAM;EACzB,IAAIrB,IAAI,EAAES,SAAS,EAAE;AACvB;AACA,OAAO,SAASa,aAAa,GAAG;EAC9B,IAAIzB,SAAS,IAAI,CAACc,SAAS,EAAE;IAC3BX,IAAI,GAAG,CAAC,CAAC;IACTS,SAAS,EAAE;IACXI,MAAM,CAACU,gBAAgB,CAAC,QAAQ,EAAEhB,YAAY,CAAC;IAC/CI,SAAS,GAAG,IAAI;EAClB;EACA,gBAA0Bf,QAAQ,CAACI,IAAI,CAAC;IAAA;IAAjCwB,KAAK;IAAEC,QAAQ;EACtB9B,SAAS,CAAC,YAAM;IACd,IAAI,CAACE,SAAS,EAAE;IAChB;IACA;IACA,IAAI,CAACc,SAAS,EAAE;MACdE,MAAM,CAACU,gBAAgB,CAAC,QAAQ,EAAEhB,YAAY,CAAC;IACjD;IACA,IAAMG,UAAU,GAAG,SAAbA,UAAU,GAAS;MACvBe,QAAQ,CAACzB,IAAI,CAAC;IAChB,CAAC;IACDF,WAAW,CAAC4B,GAAG,CAAChB,UAAU,CAAC;IAC3B,OAAO,YAAM;MACXZ,WAAW,CAAC6B,MAAM,CAACjB,UAAU,CAAC;MAC9B,IAAIZ,WAAW,CAAC8B,IAAI,KAAK,CAAC,EAAE;QAC1Bf,MAAM,CAACgB,mBAAmB,CAAC,QAAQ,EAAEtB,YAAY,CAAC;QAClDI,SAAS,GAAG,KAAK;MACnB;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAOa,KAAK;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}