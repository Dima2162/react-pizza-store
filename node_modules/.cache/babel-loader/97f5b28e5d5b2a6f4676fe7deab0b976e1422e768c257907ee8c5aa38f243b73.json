{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _createClass from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"C:/Users/DimaP/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/React_handmade/mypizza/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport { useRef, useEffect } from 'react';\nexport var EventEmitter = /*#__PURE__*/_createClass(function EventEmitter() {\n  var _this = this;\n  _classCallCheck(this, EventEmitter);\n  this.subscriptions = new Set();\n  this.emit = function (val) {\n    var _iterator = _createForOfIteratorHelper(_this.subscriptions),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var subscription = _step.value;\n        subscription(val);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n  this.useSubscription = function (callback) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var callbackRef = useRef();\n    callbackRef.current = callback;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n      function subscription(val) {\n        if (callbackRef.current) {\n          callbackRef.current(val);\n        }\n      }\n      _this.subscriptions.add(subscription);\n      return function () {\n        _this.subscriptions.delete(subscription);\n      };\n    }, []);\n  };\n});\nexport default function useEventEmitter() {\n  var ref = useRef();\n  if (!ref.current) {\n    ref.current = new EventEmitter();\n  }\n  return ref.current;\n}","map":{"version":3,"names":["useRef","useEffect","EventEmitter","subscriptions","Set","emit","val","subscription","useSubscription","callback","callbackRef","current","add","delete","useEventEmitter","ref"],"sources":["C:/Users/DimaP/Desktop/Проекты/React_handmade/mypizza/node_modules/ahooks/es/useEventEmitter/index.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\nexport class EventEmitter {\n  constructor() {\n    this.subscriptions = new Set();\n    this.emit = val => {\n      for (const subscription of this.subscriptions) {\n        subscription(val);\n      }\n    };\n    this.useSubscription = callback => {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      const callbackRef = useRef();\n      callbackRef.current = callback;\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useEffect(() => {\n        function subscription(val) {\n          if (callbackRef.current) {\n            callbackRef.current(val);\n          }\n        }\n        this.subscriptions.add(subscription);\n        return () => {\n          this.subscriptions.delete(subscription);\n        };\n      }, []);\n    };\n  }\n}\nexport default function useEventEmitter() {\n  const ref = useRef();\n  if (!ref.current) {\n    ref.current = new EventEmitter();\n  }\n  return ref.current;\n}"],"mappings":";;;AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACzC,WAAaC,YAAY,6BACvB,wBAAc;EAAA;EAAA;EACZ,IAAI,CAACC,aAAa,GAAG,IAAIC,GAAG,EAAE;EAC9B,IAAI,CAACC,IAAI,GAAG,UAAAC,GAAG,EAAI;IAAA,2CACU,KAAI,CAACH,aAAa;MAAA;IAAA;MAA7C,oDAA+C;QAAA,IAApCI,YAAY;QACrBA,YAAY,CAACD,GAAG,CAAC;MACnB;IAAC;MAAA;IAAA;MAAA;IAAA;EACH,CAAC;EACD,IAAI,CAACE,eAAe,GAAG,UAAAC,QAAQ,EAAI;IACjC;IACA,IAAMC,WAAW,GAAGV,MAAM,EAAE;IAC5BU,WAAW,CAACC,OAAO,GAAGF,QAAQ;IAC9B;IACAR,SAAS,CAAC,YAAM;MACd,SAASM,YAAY,CAACD,GAAG,EAAE;QACzB,IAAII,WAAW,CAACC,OAAO,EAAE;UACvBD,WAAW,CAACC,OAAO,CAACL,GAAG,CAAC;QAC1B;MACF;MACA,KAAI,CAACH,aAAa,CAACS,GAAG,CAACL,YAAY,CAAC;MACpC,OAAO,YAAM;QACX,KAAI,CAACJ,aAAa,CAACU,MAAM,CAACN,YAAY,CAAC;MACzC,CAAC;IACH,CAAC,EAAE,EAAE,CAAC;EACR,CAAC;AACH,CAAC;AAEH,eAAe,SAASO,eAAe,GAAG;EACxC,IAAMC,GAAG,GAAGf,MAAM,EAAE;EACpB,IAAI,CAACe,GAAG,CAACJ,OAAO,EAAE;IAChBI,GAAG,CAACJ,OAAO,GAAG,IAAIT,YAAY,EAAE;EAClC;EACA,OAAOa,GAAG,CAACJ,OAAO;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}