[{"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\index.tsx":"1","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\App.tsx":"2","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\store.ts":"3","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\Home.tsx":"4","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\NotFound.tsx":"5","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\FullPizza.tsx":"6","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\filterSlice.ts":"7","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\pizzaSlice.ts":"8","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\cartSlice.ts":"9","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\Cart.jsx":"10","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\layout\\MainLayout.jsx":"11","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Sort.tsx":"12","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Categories.tsx":"13","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\PizzaBlock.tsx":"14","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\CartEmpty.tsx":"15","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\CartItem.tsx":"16","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\utils\\calcTotalPrice.ts":"17","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\utils\\getCartFromLS.ts":"18","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Skeleton.jsx":"19","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Header.tsx":"20","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Pagination\\index.tsx":"21","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Search\\index.tsx":"22"},{"size":410,"mtime":1676550851244,"results":"23","hashOfConfig":"24"},{"size":1211,"mtime":1676625345331,"results":"25","hashOfConfig":"24"},{"size":518,"mtime":1676582589090,"results":"26","hashOfConfig":"24"},{"size":3804,"mtime":1676623585833,"results":"27","hashOfConfig":"24"},{"size":217,"mtime":1676313901720,"results":"28","hashOfConfig":"24"},{"size":1039,"mtime":1676624291112,"results":"29","hashOfConfig":"24"},{"size":1649,"mtime":1676579196506,"results":"30","hashOfConfig":"24"},{"size":2065,"mtime":1676583226311,"results":"31","hashOfConfig":"24"},{"size":1742,"mtime":1676589060683,"results":"32","hashOfConfig":"24"},{"size":4810,"mtime":1676494851603,"results":"33","hashOfConfig":"24"},{"size":304,"mtime":1676542818274,"results":"34","hashOfConfig":"24"},{"size":2676,"mtime":1676586403300,"results":"35","hashOfConfig":"24"},{"size":634,"mtime":1676586141933,"results":"36","hashOfConfig":"24"},{"size":2467,"mtime":1676576144798,"results":"37","hashOfConfig":"24"},{"size":739,"mtime":1676552952334,"results":"38","hashOfConfig":"24"},{"size":3996,"mtime":1676580882781,"results":"39","hashOfConfig":"24"},{"size":203,"mtime":1676588764209,"results":"40","hashOfConfig":"24"},{"size":358,"mtime":1676589258092,"results":"41","hashOfConfig":"24"},{"size":635,"mtime":1675671194519,"results":"42","hashOfConfig":"24"},{"size":2715,"mtime":1676587894927,"results":"43","hashOfConfig":"24"},{"size":583,"mtime":1676559998222,"results":"44","hashOfConfig":"24"},{"size":822,"mtime":1676559080277,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1sraz2h",{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\index.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\App.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\store.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\Home.tsx",["115","116"],[],"import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Categories from '../components/Categories';\r\nimport Sort from '../components/Sort';\r\nimport PizzaBlock from '../components/PizzaBlock';\r\n\r\nimport Pagination from '../components/Pagination';\r\nimport { selectFilter, setCategoryId, setPageCount } from '../redux/slice/filterSlice';\r\nimport { fetchPizzas, selectPizzaData } from '../redux/slice/pizzaSlice';\r\nimport Skeleton from '../components/Skeleton';\r\nimport { useAppDispatch } from '../redux/store';\r\n\r\n\r\nconst Home:React.FC = () => {\r\n\tconst dispatch = useAppDispatch();\r\n\tconst { items, status } = useSelector(selectPizzaData);\r\n\tconst { categoryId, sort, pageCount, searchValue } = useSelector(selectFilter);\r\n\r\n\tconst onClickCategory = React.useCallback((id:number) => {\r\n\t\tdispatch(setCategoryId(id));\r\n\t},[])\r\n\tconst onChangePage = (page:number) => {\r\n\t\tdispatch(setPageCount(page));\r\n\t};\r\n\tconst getPizzas = async () => {\r\n\t\tconst sortBy = sort.sortPropety.replace('-', '');\r\n\t\tconst order = sort.sortPropety.includes('-') ? 'asc' : 'desc';\r\n\t\tconst category = categoryId > 0 ? `&category_like=${categoryId}` : '';\r\n\t\tconst search = searchValue ? `&title_like=${searchValue}` : '';\r\n\r\n\t\tdispatch(\r\n\t\t\tfetchPizzas({\r\n\t\t\t\tsortBy,\r\n\t\t\t\torder,\r\n\t\t\t\tcategory,\r\n\t\t\t\tsearch,\r\n\t\t\t\tpageCount: String(pageCount),\r\n\t\t\t}),\r\n\t\t);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\tgetPizzas();\r\n\t}, [categoryId, sort.sortPropety, searchValue, pageCount]);\r\n\r\n\t// React.useEffect(() => {\r\n\t// \tif (window.location.search) {\r\n\t// \t\tconst params = qs.parse(window.location.search.substring(1));\r\n\t// \t\tconst sort = sortList.find((obj) => obj.sortPropety === params.sortPropety);\r\n\t// \t\tdispatch(\r\n\t// \t\t\tsetFilters({\r\n\t// \t\t\t\t...params,\r\n\t// \t\t\t\tsort,\r\n\t// \t\t\t}),\r\n\t// \t\t);\r\n\t// \t\tisSearch.current = true;\r\n\t// \t}\r\n\t// }, []);\r\n\r\n\t// React.useEffect(() => {\r\n\t// \twindow.scrollTo(0, 0);\r\n\t// \tif(isSearch.current){\r\n\t// \t\tfetchPizzas()\r\n\t// \t}\r\n\t// \tisSearch.current = false;\r\n\r\n\t// }, [categoryId, sort.sortPropety, searchValue, pageCount]);\r\n\r\n\t// React.useEffect(() => {\r\n\t// if(isMounted.current){\r\n\t// \tconst queryString = qs.stringify({\r\n\t// \t\tsortPropety: sort.sortPropety,\r\n\t// \t\tcategoryId,\r\n\t// \t\tpageCount,\r\n\t// \t});\r\n\t// \tnavigate(`?${queryString}`);\r\n\t// }\r\n\t// isMounted.current = true\r\n\t// }, [categoryId, sort.sortPropety, pageCount]);\r\n\tconst pizzas = items.map((obj) => (\r\n\t\t\r\n\t\t\t<PizzaBlock key={obj.id} {...obj} />\r\n\t\r\n\t));\r\n\tconst skeletons = [...new Array(6)].map((_, index) => <Skeleton key={index} />);\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"content__top\">\r\n\t\t\t\t<Categories value={categoryId} onClickCategory={onClickCategory} />\r\n\t\t\t\t<Sort value = {sort}/>\r\n\t\t\t</div>\r\n\t\t\t<h2 className=\"content__title\">Все пиццы</h2>\r\n\t\t\t{status === 'error' ? (\r\n\t\t\t\t<div className=\"content__error-info\">\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\tПроизошла ошибка <span>😕</span>\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<p>К сожалению,не удалось получить питсы.Попробуйте повторить попытку позже.</p>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"content__items\">{status === 'loading' ? skeletons : pizzas}</div>\r\n\t\t\t)}\r\n\t\t\t<Pagination pageCount={pageCount} onChangePage={onChangePage} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n\r\n// import { useNavigate } from 'react-router-dom';\r\n// import qs from 'qs';\r\n\r\n// const navigate = useNavigate();\r\n// const isSearch = React.useRef(false);\r\n// const isMounted = React.useRef(false);\r\n\r\n// await axios\r\n// \t.get(\r\n// \t\t`http://localhost:3002/pizzas?_page=${pageCount}&_limit=4${category}&_sort=${sortBy}&_order=${order}${search}`,\r\n// \t)\r\n// \t.then((res) => {\r\n// \t\tsetItems(res.data);\r\n// \t});\r\n\r\n// {items.map((obj) => (\r\n// \t<PizzaBlock key={obj.id} {...obj} />\r\n// ))}\r\n","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\NotFound.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\FullPizza.tsx",["117","118"],[],"import axios from 'axios';\r\nimport React from 'react';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n\r\nconst FullPizza = () => {\r\n\tconst [pizza, setPizza] = React.useState<{\r\n\t\timageUrl: string;\r\n\t\ttitle: string;\r\n\t\tprice: number;\r\n\t}>();\r\n\tconst { id } = useParams();\r\n\tconst navigate = useNavigate();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchPizza() {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.get('http://localhost:3002/pizzas/' + id);\r\n\t\t\t\tsetPizza(data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert('Ошибка при получении пиццы');\r\n\t\t\t\tnavigate('/');\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchPizza();\r\n\t}, []);\r\n\r\n\tif (!pizza) {\r\n\t\treturn <React.Fragment>'Загрузка...'</React.Fragment>;\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<img src={pizza.imageUrl} />\r\n\t\t\t<h2>{pizza.title}</h2>\r\n\t\t\t<h4>{pizza.price}</h4>\r\n\t\t\t<Link to='/notfkpew'>\r\n\t\t\t<div className=\"button button--outline button--add\">\r\n\t\t\t\t<span>Назад</span>\r\n\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FullPizza;\r\n","C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\filterSlice.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\pizzaSlice.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\redux\\slice\\cartSlice.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\pages\\Cart.jsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\layout\\MainLayout.jsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Sort.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Categories.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\PizzaBlock.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\CartEmpty.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\CartItem.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\utils\\calcTotalPrice.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\utils\\getCartFromLS.ts",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Skeleton.jsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Header.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Pagination\\index.tsx",[],[],"C:\\Users\\DimaP\\Desktop\\Проекты\\React_Project\\mypizza\\src\\components\\Search\\index.tsx",["119"],[],"import React from 'react';\r\nimport debounce from 'lodash.debounce';\r\nimport styles from './Search.module.scss';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setSearchValue } from '../../redux/slice/filterSlice';\r\n\r\nconst Search:React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [value, setValue] = React.useState<string>('');\r\n\tconst updateSearchValue = React.useCallback(\r\n\t\tdebounce((str:string) => {\r\n\t\t\tdispatch(setSearchValue(str));\r\n\t\t}, 1000),\r\n\t\t[],\r\n\t);\r\n\tconst onChangeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetValue(event.target.value);\r\n\t\tupdateSearchValue(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<input\r\n\t\t\tvalue={value}\r\n\t\t\tonChange={onChangeInput}\r\n\t\t\tclassName={styles.root}\r\n\t\t\tplaceholder=\"Поиск пиццы...\"\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default Search;\r\n",{"ruleId":"120","severity":1,"message":"121","line":22,"column":4,"nodeType":"122","endLine":22,"endColumn":6,"suggestions":"123"},{"ruleId":"120","severity":1,"message":"124","line":45,"column":5,"nodeType":"122","endLine":45,"endColumn":59,"suggestions":"125"},{"ruleId":"120","severity":1,"message":"126","line":25,"column":5,"nodeType":"122","endLine":25,"endColumn":7,"suggestions":"127"},{"ruleId":"128","severity":1,"message":"129","line":32,"column":4,"nodeType":"130","endLine":32,"endColumn":32},{"ruleId":"120","severity":1,"message":"131","line":11,"column":28,"nodeType":"132","endLine":11,"endColumn":45},"react-hooks/exhaustive-deps","React Hook React.useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["133"],"React Hook React.useEffect has a missing dependency: 'getPizzas'. Either include it or remove the dependency array.",["134"],"React Hook React.useEffect has missing dependencies: 'id' and 'navigate'. Either include them or remove the dependency array.",["135"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","MemberExpression",{"desc":"136","fix":"137"},{"desc":"138","fix":"139"},{"desc":"140","fix":"141"},"Update the dependencies array to be: [dispatch]",{"range":"142","text":"143"},"Update the dependencies array to be: [categoryId, sort.sortPropety, searchValue, pageCount, getPizzas]",{"range":"144","text":"145"},"Update the dependencies array to be: [id, navigate]",{"range":"146","text":"147"},[844,846],"[dispatch]",[1411,1465],"[categoryId, sort.sortPropety, searchValue, pageCount, getPizzas]",[610,612],"[id, navigate]"]